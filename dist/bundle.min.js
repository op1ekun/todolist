angular.module("itemValidator.Directives",[]).directive("duplicate",function(){"use strict";function a(a,b,c,d){d.$parsers.unshift(function(b){for(var c=0,e=a.items.length;e>c;c++){if(a.items[c].name===b){d.$setValidity("duplicate",!1);break}d.$setValidity("duplicate",!0)}return b})}return{restrict:"A",require:"ngModel",scope:{items:"="},link:a}}),angular.module("itemValidator",["itemValidator.Directives"]),angular.module("list.Directives",["notification.Services"]).directive("list",function(){"use strict";function a(a,b,c){a.$watchCollection("items",function(){console.log("items changed",a.items)}),"removableItems"in c&&(a.removableItems=!0)}function b(a){a.removeItem=function(b){var c=a.items.indexOf(b);a.items.splice(c,1)}}return b.$inject=["$scope"],{scope:{items:"="},restrict:"E",replace:!0,transclude:!0,template:'<ul class="list"><li ng-repeat="item in items" ng-class="item.cssClass" class="listItem" inject><span ng-transclude></span><span class="itemText">{{item.name}}</span><a href="#" ng-if="removableItems" ng-click="removeItem(item)" class="itemRemoveButton"> [x] </a></li></ul>',controller:b,link:a}}).directive("inject",function(){"use strict";return{link:function(a,b,c,d,e){var f=a.$new();e(f,function(a){console.log(b);var c=b.find("a");c.remove(),b.prepend(a),b.on("$destroy",function(){f.$destroy()})})}}}),angular.module("list",["list.Directives"]),angular.module("notification",["notification.Services"]),angular.module("notification.Services",[]).factory("notification",function(){function a(){}return{create:a}}),angular.module("todolist.Directives",["list.Directives"]).directive("todolist",function(){"use strict";function a(a){a.activeFilter="all",a.filteredItems=a.items,a.markAsDone=function(b){var c=a.items.indexOf(b);a.items[c].done=!0,a.items[c].cssClass="done"},a.filterBy=function(b){var c=[];a.items.forEach(function(a){switch(b){case"active":a.done||c.push(a);break;case"done":a.done&&c.push(a);break;default:c.push(a)}}),a.filteredItems=c}}return a.$inject=["$scope"],{scope:{items:"="},restrict:"E",replace:!0,template:'<div class="todolist"><strong>Show: </strong><ul><li><a href="#active" ng-click="filterBy(\'active\')" class="filterBy">ACTIVE</a></li><li><a href="#done" ng-click="filterBy(\'done\')" class="filterBy">DONE</a></li><li><a href="#all" ng-click="filterBy(\'all\')" class="filterBy">ALL</a></li></ul><list items="filteredItems" removable-items><a href="" ng-click="$parent.$parent.$parent.markAsDone(item)" class="itemDoneButton">DONE</a></list></div>',controller:a}}),angular.module("todolist",["todolist.Directives"]),angular.module("todoApp.Controllers",["notification"]).controller("TodoAppController",["$scope","notification",function(a,b){"use strict";console.log("TodoAppController"),console.log("TodoAppController notification",b),a.todo={item:"",items:[]},a.todo.addItem=function(b){13!==b.charCode||a.addItemForm.itemName.$error.duplicate||""===a.todo.item||(a.todo.items.push({name:a.todo.item}),a.todo.item="")},a.clock={now:new Date};var c=function(){a.clock.now=new Date};setInterval(function(){a.$apply(c)},1e3)}]),angular.module("todoApp",["todoApp.Controllers","todolist","itemValidator"]).config(function(){"use strict";console.log("app configured")}).run(["$rootScope",function(a){"use strict";a.app={version:"0.0.3"},console.log("app run")}]);
//# sourceMappingURL=bundle.map